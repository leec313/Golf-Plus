{% load static %}
{% load crispy_forms_tags %}

<head>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<div id="newsletter-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <form method="post" action="{% url 'subscribe_newsletter' %}">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit">Subscribe</button>
        </form>
    </div>
</div>

<script>
    // JavaScript to show/hide the modal
    document.addEventListener("DOMContentLoaded", function () {
        openModal();
    });

    function openModal() {
        document.getElementById('newsletter-modal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('newsletter-modal').style.display = 'none';
    }

    // Close the modal if the user clicks outside the modal
    window.onclick = function (event) {
        var modal = document.getElementById('newsletter-modal');
        if (event.target === modal) {
            closeModal();
        }
    };
</script>